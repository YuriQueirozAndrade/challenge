<header class="app-header-style" id="task-header">
  <span class="header-text">{{ title }}</span>
</header>
<div class="task-form-container">
  <form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
    <div class="form-field">
      <label for="taskName">Nome da Tarefa:</label>
      <input type="text" id="taskName" formControlName="taskName" />
    </div>

    <div class="date-fields">
      <div class="date-field">
        <label for="startDate">Início</label>
        <input type="date" id="startDate" formControlName="startDate" />
      </div>
      <div class="date-field">
        <label for="endDate">Conclusão</label>
        <input type="date" id="endDate" formControlName="endDate" />
      </div>
    </div>

    <div class="form-field">
      <label for="estimatedCost">Custo Estimado (R$):</label>
      <input type="text" id="estimatedCost" formControlName="estimatedCost" placeholder="R$" />
    </div>

    <div class="form-field">
      <label for="taskStatus">Status da Tarefa:</label>
      <select id="taskStatus" formControlName="taskStatus">
        <option value="">Selecione...</option>
        <option value="pending">Pendente</option>
        <option value="ongoing">Em Progresso</option>
        <option value="done">Concluída</option>
      </select>
    </div>

    <footer class="form-actions">
      <button type="button" (click)="onClose()" class="btn-back">
        <img alt="" src="/assets/arrow_back.svg" />
        Voltar
      </button>
      <button
        type="button"
        (click)="onDelete()"
        class="btn-delete"
        *ngIf="isEditMode && !showDeleteConfirmation"
      >
        <img alt="" src="/assets/delete.svg" />
        Excluir
      </button>
      <button type="submit" class="btn-save" *ngIf="!showDeleteConfirmation">
        <img alt="" src="/assets/save.svg" />
        Salvar
      </button>
    </footer>
  </form>
  <div *ngIf="showDeleteConfirmation" class="confirmation-overlay">
    <div class="confirmation-dialog">
      <p>Tem certeza de que deseja excluir esta tarefa?</p>
      <div class="confirmation-buttons">
        <button (click)="confirmDelete()" class="btn-confirm-yes">Sim</button>
        <button (click)="cancelDelete()" class="btn-confirm-no">Não</button>
      </div>
    </div>
  </div>
</div>
